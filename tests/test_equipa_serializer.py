from fixtures import mock_equipa

from libelifoot.serializer.equipa import EquipaSerializer


def test_serialize_none_equipa():
    ret = EquipaSerializer.serialize(None)

    assert ret is None


def test_serialize_valid_equipa(mock_equipa):
    expected = bytearray(
        b'EFa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
        b'\x00\x00\x0bN\xa0\xc0\x06R\x93\xe0%s\xba\t\x08N\x9a\xdb(m\xbb\x02QF'
        b'F0000\x00000000\x00\x03E\x97\xd8\x0e\x15\x00\x03D\x96\xdd\rN\xb5*'
        b'\x9d\x11\xfel\x8c\xdeM\xc03\x9c\x00\x00\x03E\x97\xd8\tVv\xc7'
        b"<\xa1\n|\xebe\x00\x00\x03E\x97\xd8\rY\xce1\x92\x05%k\xe0R\xc6'"
        b'\x8b\xfa\x00\x00\x03E\x97\xd8\x0cM\xc68\xac\x1b\x89\xa9\xf5j\xcd.'
        b'\xa1\x01\x00\x03E\x97\xd8\rd\xc9<\xa8\r\x86\xa6\xec^\xbf-\x14'
        b'u\x01\x00\x03E\x97\xd8\x0bW@\xaf\xcf\x1f\x84\xf6[\xc46\x97\x01'
        b'\x00\x03E\x97\xd8\x0eT\xb5\x17\x89v\xd9B\xb1\xd1\x13\x85\xfah\xd7'
        b'\x01\x00\x03E\x97\xd8\tU>\xad\xcd\x1c\x8e\x02k\xe5\x01\x00\x03E'
        b'\x97\xd8\nN\xaf%\x8e\xf2\x12^\xd3<\xb6\x01\x00\x03E\x97\xd8\x06'
        b'M\xb2$\x97\x06t\x02\x00\x03E\x97\xd8\x05F\xb2\x1e\x7f\xed\x02\x00'
        b'\x03F\x8e\xda\x0cQ\xc3,\x8f\xfa\x1aj\xdfK\xb2\x13\x85\x02\x00\x03'
        b'E\x97\xd8\rY\xc8:\xac\r{\x9b\xe7\\\xbf \x93\xb3\x02\x00\x03'
        b'E\x97\xd8\x08M\xc3(\x9a\x0e\x82\xf1_\x02\x00\x03X\xaa\xff\x0fV'
        b'v\xda?_\xa0\x12\x84\xe5X\xbb\x1c\x81\xf5V\x02\x00\x03E\x97\xd8'
        b'\x0eP\xc27\xa5\x144|\xe1O\xc1*\x9b\x10u\x03\x00\x03E\x97'
        b'\xd8\x0bW\xcc5\xaf\xcf\x10\x82\xe3\xddG\xb6\x03\x00\x03'
        b'E\x97\xd8\x05U\xba\x1e\x90\xff\x03\x00\x03E\x97\xd8\x0f'
        b"V\xb7\x19\x8b\xf4Y\xc5\xe5'\x88\xfa\\\xcb>\x9f\x03\x00\x03E\x97"
        b'\xd8\x11^\xbf3\x9b\x00u\xe8\x08O\xbe,\x13t\xe0V\xbb.\x03'
        b'\x00\x03E\x97\xd8\tL\xad\x1f\x8b\xf4b\xca9\xac\x03\x00\x0bQ\xba'
        b'&\x8f\xffd\x84\xd0E2\xa5')

    ret = EquipaSerializer.serialize(mock_equipa)

    assert ret == expected
